# ä¹¦ç­¾åˆ é™¤åŠŸèƒ½è¯´æ˜

## æ¦‚è¿°

ä¸ºä¸»é¡µä¹¦ç­¾å³é”®èœå•æ·»åŠ äº†åˆ é™¤åŠŸèƒ½ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å³é”®ç‚¹å‡»ä¹¦ç­¾å¡ç‰‡æ¥åˆ é™¤ä¸éœ€è¦çš„ä¹¦ç­¾ã€‚

## ä¸»è¦åŠŸèƒ½

### ğŸ—‘ï¸ åˆ é™¤åŠŸèƒ½

1. **å³é”®èœå•**: åœ¨ä¹¦ç­¾å¡ç‰‡ä¸Šå³é”®ç‚¹å‡»æ˜¾ç¤ºä¸Šä¸‹æ–‡èœå•
2. **åˆ é™¤é€‰é¡¹**: èœå•ä¸­åŒ…å«"åˆ é™¤"é€‰é¡¹ï¼Œä½¿ç”¨çº¢è‰²æ–‡å­—å’Œåƒåœ¾æ¡¶å›¾æ ‡
3. **ç¡®è®¤å¯¹è¯æ¡†**: ç‚¹å‡»åˆ é™¤åå¼¹å‡ºç¡®è®¤å¯¹è¯æ¡†ï¼Œé˜²æ­¢è¯¯åˆ 
4. **å®‰å…¨åˆ é™¤**: ä½¿ç”¨Chromeçš„bookmarks APIå®‰å…¨åˆ é™¤ä¹¦ç­¾

### ğŸ¨ ç•Œé¢è®¾è®¡

1. **å³é”®èœå•å¸ƒå±€**:
   - ç¼–è¾‘é€‰é¡¹ï¼ˆé“…ç¬”å›¾æ ‡ï¼‰
   - åˆ†éš”çº¿
   - åˆ é™¤é€‰é¡¹ï¼ˆåƒåœ¾æ¡¶å›¾æ ‡ï¼Œçº¢è‰²æ–‡å­—ï¼‰

2. **ç¡®è®¤å¯¹è¯æ¡†**:
   - æ¸…æ™°çš„æ ‡é¢˜ï¼š"åˆ é™¤ä¹¦ç­¾"
   - æ˜¾ç¤ºè¦åˆ é™¤çš„ä¹¦ç­¾åç§°
   - è­¦å‘Šæ–‡å­—ï¼š"æ­¤æ“ä½œæ— æ³•æ’¤é”€"
   - å–æ¶ˆå’Œåˆ é™¤æŒ‰é’®

3. **è§†è§‰åé¦ˆ**:
   - åˆ é™¤æŒ‰é’®ä½¿ç”¨å±é™©è‰²å½©ï¼ˆçº¢è‰²ï¼‰
   - åˆ é™¤è¿‡ç¨‹ä¸­æ˜¾ç¤ºåŠ è½½çŠ¶æ€
   - æˆåŠŸåˆ é™¤åæ˜¾ç¤ºToastæç¤º

### ğŸ”§ æŠ€æœ¯å®ç°

#### 1. **ç»„ä»¶ç»“æ„**

```typescript
// ä¹¦ç­¾å¡ç‰‡ç»„ä»¶å¢åŠ åˆ é™¤å›è°ƒ
interface BookmarkCardProps {
    item: BookmarkCardItem;
    onClick: (item: BookmarkCardItem) => void;
    onEdit?: (item: BookmarkCardItem) => void;
    onDelete?: (item: BookmarkCardItem) => void; // æ–°å¢
    className?: string;
}
```

#### 2. **åˆ é™¤ç¡®è®¤å¯¹è¯æ¡†**

```typescript
// æ–°å¢åˆ é™¤ç¡®è®¤å¯¹è¯æ¡†ç»„ä»¶
export const BookmarkDeleteDialog: React.FC<BookmarkDeleteDialogProps> = ({
    open,
    onOpenChange,
    bookmark,
    onConfirm,
    isDeleting = false
}) => {
    // ä½¿ç”¨AlertDialogç»„ä»¶å®ç°ç¡®è®¤å¯¹è¯æ¡†
}
```

#### 3. **Chrome APIè°ƒç”¨**

```typescript
// åˆ é™¤ä¹¦ç­¾çš„APIå‡½æ•°
export const deleteChromeBookmark = async (id: string): Promise<void> => {
    try {
        await browser.bookmarks.remove(id);
    } catch (error) {
        console.error('Failed to delete Chrome bookmark:', error);
        throw new Error('Failed to delete bookmark from Chrome');
    }
};
```

#### 4. **çŠ¶æ€ç®¡ç†**

```typescript
// ä¹¦ç­¾ç»„ä»¶ä¸­çš„åˆ é™¤ç›¸å…³çŠ¶æ€
const [deletingBookmark, setDeletingBookmark] = useState<BookmarkCardItem | null>(null);
const [isDeleteDialogOpen, setIsDeleteDialogOpen] = useState(false);
const [isDeleting, setIsDeleting] = useState(false);
```

### ğŸ“‹ ä½¿ç”¨æµç¨‹

1. **è§¦å‘åˆ é™¤**: ç”¨æˆ·å³é”®ç‚¹å‡»ä¹¦ç­¾å¡ç‰‡
2. **é€‰æ‹©åˆ é™¤**: åœ¨ä¸Šä¸‹æ–‡èœå•ä¸­ç‚¹å‡»"åˆ é™¤"é€‰é¡¹
3. **ç¡®è®¤åˆ é™¤**: åœ¨å¼¹å‡ºçš„ç¡®è®¤å¯¹è¯æ¡†ä¸­ç‚¹å‡»"åˆ é™¤"æŒ‰é’®
4. **æ‰§è¡Œåˆ é™¤**: ç³»ç»Ÿè°ƒç”¨Chrome APIåˆ é™¤ä¹¦ç­¾
5. **æ›´æ–°ç•Œé¢**: ä»æœ¬åœ°çŠ¶æ€ä¸­ç§»é™¤å·²åˆ é™¤çš„ä¹¦ç­¾
6. **åé¦ˆæç¤º**: æ˜¾ç¤ºåˆ é™¤æˆåŠŸçš„Toastæ¶ˆæ¯

### ğŸ›¡ï¸ å®‰å…¨æªæ–½

1. **äºŒæ¬¡ç¡®è®¤**: å¿…é¡»é€šè¿‡ç¡®è®¤å¯¹è¯æ¡†æ‰èƒ½æ‰§è¡Œåˆ é™¤
2. **é”™è¯¯å¤„ç†**: åˆ é™¤å¤±è´¥æ—¶æ˜¾ç¤ºé”™è¯¯æç¤º
3. **çŠ¶æ€ä¿æŠ¤**: åˆ é™¤è¿‡ç¨‹ä¸­ç¦ç”¨ç›¸å…³æŒ‰é’®
4. **æ•°æ®åŒæ­¥**: åˆ é™¤åç«‹å³æ›´æ–°æœ¬åœ°çŠ¶æ€

### ğŸŒ å›½é™…åŒ–æ”¯æŒ

æ·»åŠ äº†ä»¥ä¸‹ç¿»è¯‘é”®ï¼š

- `delete`: "åˆ é™¤" / "Delete"
- `deleteBookmark`: "åˆ é™¤ä¹¦ç­¾" / "Delete Bookmark"
- `deleteBookmarkConfirm`: "ç¡®å®šè¦åˆ é™¤è¿™ä¸ªä¹¦ç­¾å—ï¼Ÿ" / "Are you sure you want to delete this bookmark?"
- `deleteBookmarkDescription`: "æ­¤æ“ä½œæ— æ³•æ’¤é”€" / "This action cannot be undone"
- `bookmarkDeleted`: "ä¹¦ç­¾å·²åˆ é™¤" / "Bookmark deleted"
- `deleteBookmarkFailed`: "åˆ é™¤ä¹¦ç­¾å¤±è´¥" / "Failed to delete bookmark"

### ğŸ“¦ ä¾èµ–æ›´æ–°

æ–°å¢ä¾èµ–ï¼š
- `@radix-ui/react-alert-dialog`: ç”¨äºå®ç°ç¡®è®¤å¯¹è¯æ¡†

### ğŸ¯ æ³¨æ„äº‹é¡¹

1. **ä»…é™ä¹¦ç­¾**: åˆ é™¤åŠŸèƒ½åªå¯¹ä¹¦ç­¾æœ‰æ•ˆï¼Œæ–‡ä»¶å¤¹ä¸æ˜¾ç¤ºåˆ é™¤é€‰é¡¹
2. **æƒé™è¦æ±‚**: éœ€è¦`bookmarks`æƒé™æ‰èƒ½åˆ é™¤ä¹¦ç­¾
3. **å®æ—¶æ›´æ–°**: åˆ é™¤åç•Œé¢ç«‹å³æ›´æ–°ï¼Œæ— éœ€åˆ·æ–°é¡µé¢
4. **é”™è¯¯æ¢å¤**: åˆ é™¤å¤±è´¥æ—¶ä¿æŒåŸæœ‰çŠ¶æ€ä¸å˜

## æ–‡ä»¶å˜æ›´

### æ–°å¢æ–‡ä»¶
- `components/ui/alert-dialog.tsx`: AlertDialogç»„ä»¶
- `components/ui/bookmark-delete-dialog.tsx`: åˆ é™¤ç¡®è®¤å¯¹è¯æ¡†
- `docs/ä¹¦ç­¾åˆ é™¤åŠŸèƒ½è¯´æ˜.md`: æœ¬æ–‡æ¡£

### ä¿®æ”¹æ–‡ä»¶
- `components/ui/bookmark-card.tsx`: æ·»åŠ åˆ é™¤èœå•é¡¹
- `entrypoints/newtab/bookmarks.tsx`: æ·»åŠ åˆ é™¤å¤„ç†é€»è¾‘
- `lib/bookmarkUtils.ts`: æ·»åŠ åˆ é™¤APIå‡½æ•°
- `locales/zh_CN/common.json`: æ·»åŠ ä¸­æ–‡ç¿»è¯‘
- `locales/en/common.json`: æ·»åŠ è‹±æ–‡ç¿»è¯‘
- `package.json`: æ·»åŠ alert-dialogä¾èµ–

## æµ‹è¯•å»ºè®®

1. **åŠŸèƒ½æµ‹è¯•**: éªŒè¯åˆ é™¤åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œ
2. **ç•Œé¢æµ‹è¯•**: æ£€æŸ¥å³é”®èœå•å’Œç¡®è®¤å¯¹è¯æ¡†æ˜¾ç¤º
3. **é”™è¯¯æµ‹è¯•**: æµ‹è¯•åˆ é™¤å¤±è´¥æ—¶çš„é”™è¯¯å¤„ç†
4. **å›½é™…åŒ–æµ‹è¯•**: éªŒè¯ä¸­è‹±æ–‡ç•Œé¢æ˜¾ç¤ºæ­£ç¡®
5. **æƒé™æµ‹è¯•**: ç¡®è®¤åœ¨ä¸åŒæƒé™ä¸‹çš„è¡Œä¸º
